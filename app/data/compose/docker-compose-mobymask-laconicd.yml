version: "3.2"

services:
  laconicd:
    restart: unless-stopped
    image: cerc/laconicd:local
    command: ["sh", "/docker-entrypoint-scripts.d/create-fixturenet.sh"]
    volumes:
      - ../config/fixturenet-laconicd/create-fixturenet.sh:/docker-entrypoint-scripts.d/create-fixturenet.sh
    ports:
      - "9473"
      - "8545"
      - "8546"
      - "1317"
    healthcheck:
      test: ["CMD", "nc", "-v", "localhost", "8545"]
      interval: 20s
      timeout: 5s
      retries: 15
      start_period: 10s

networks:
  # https://docs.docker.com/compose/networking/#configure-the-default-network
  default:
    name: mobymask-v2-network

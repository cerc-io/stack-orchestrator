services:
  laconicd:
    restart: unless-stopped
    image: cerc/laconicd:local
    command: ["sh", "/docker-entrypoint-scripts.d/create-fixturenet.sh"]
    volumes:
      # The cosmos-sdk node's database directory:
      - laconicd-data:/root/.laconicd
      # TODO: look at folding these scripts into the container
      - laconicd-scripts:/docker-entrypoint-scripts.d:ro
    # TODO: determine which of the ports below is really needed
    ports:
      - "6060"
      - "26657"
      - "26656"
      - "9473"
      - "8545"
      - "8546"
      - "9090"
      - "9091"
      - "1317"
  cli:
    image: cerc/laconic-registry-cli:local
    volumes:
      - cli-config:/registry-cli-config

volumes:
  laconicd-data:
  laconicd-scripts:
  cli-config:
